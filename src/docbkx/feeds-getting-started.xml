<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!ENTITY ndash "&#x2013;">
 <!ENTITY mdash "&#x2014;">
 <!ENTITY hellip "&#x2026;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">

]>
<book xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xml:id="feeds-getting-started" version="5.0-extension RaxBook-2.0">
    <?rax title.font.size="35px" subtitle.font.size="20px"?>
    <title>Rackspace Cloud Feeds Getting Started Guide</title>
    <?rax status.bar.text.font.size="40px"
          status.bar.text="Early Availability"?>   
    <info>
        <copyright>
            <year>2014</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0</releaseinfo>
        <productname>Rackspace Cloud Feeds</productname>
        <pubdate/>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the
                    template.</remark>
            </annotation>
        </legalnotice>
        <revhistory>
            <revision>
                <date>2014-01-01</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Created initial draft</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2014-04-11</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Update after tech review</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>
        <raxm:metadata
            xmlns:raxm="http://docs.rackspace.com/api/metadata">
            <raxm:displayname>Getting Started Guide</raxm:displayname>
            <raxm:product version="v1.0">feeds</raxm:product>
            <raxm:priority>10</raxm:priority>
        </raxm:metadata>
    </info>
    <chapter xml:id="Feeds_Doc_Change_History">
        <title>Document change history</title>
        <para>This version of the getting started guide replaces and
            obsoletes all previous versions. The most recent changes
            are described in the table below:</para>
        <?rax revhistory?>
    </chapter>
    <chapter xml:id="Feeds_Overview">
        <title>Overview</title>
        <para>This Getting Started Guide provides an introduction of
            the Cloud Feeds product. It also teaches how to use the
            Cloud Feeds API and to perform simple API operations. In
            this document, you will learn the following:</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Chapter 3 describes how to send requests to
                        the Rackspace API using cURL.</para>
                </listitem>
                <listitem>
                    <para>Chapter 4 shows how to obtain an
                        authentication token to be used with the Cloud
                        Feeds API.</para>
                </listitem>
                <listitem>
                    <para>Chapter 5 provides information on how to
                        access the Cloud Feeds service through the
                        service endpoints.</para>
                </listitem>
                <listitem>
                    <para>Chapter 6 introduces general concepts about
                        Cloud Feeds, including Atom events.</para>
                </listitem>
                <listitem>
                    <para>Chapter 7 provides a set of steps on how you
                        can use the Cloud Feeds API to retrieve
                        feeds.</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>Follow the steps described in this guide to use the
            Rackspace Cloud Feeds API and programmatically access
            feeds.</para>
        <para>For details about using the Cloud Feeds API, refer to
            the <citetitle>Cloud Feeds Developer Guide</citetitle> at
                <link xlink:href="http://docs.rackspace.com/"
                >http://docs.rackspace.com/</link>.</para>
        <para>Visit our <link
                xlink:href="http://feedback.rackspacecloud.com/forums/71021-product-feedback/category/42449-cloud-databases"
                >Product Feedback Forum</link> and tell us what you
            think about Cloud Feeds.</para>
        <section xml:id="Prerequisites_Examples">
            <title>Prerequisites for running examples</title>
            <para>In order to run the examples in this guide, you must
                have the following prerequisites: <itemizedlist
                    spacing="compact">
                    <listitem>
                        <para>Rackspace Cloud account</para>
                    </listitem>
                    <listitem>
                        <para>Rackspace Cloud username and password,
                            as specified during registration</para>
                    </listitem>
                </itemizedlist></para>
        </section>
    </chapter>
    <chapter xml:id="Feeds_Sending_API_Requests">
        <title>Sending requests to the API</title>
        <para>You have several options for sending requests through an
            API: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>Developers and testers might prefer to use cURL,
                    the command-line tool from <link
                        xlink:href="http://curl.haxx.se/"
                        >http://curl.haxx.se/</link>. </para>
                <para>With cURL, you can send HTTP requests and
                    receive responses back from the command line.
                </para>
            </listitem>
            <listitem>
                <para>If you like to use a more graphical interface,
                    the REST client for Firefox, also works well for
                    testing and trying out commands. See <link
                        xlink:href="https://addons.mozilla.org/en-US/firefox/addon/restclient/"
                        >https://addons.mozilla.org/en-US/firefox/addon/restclient/</link>.
                </para>
            </listitem>
            <listitem>
                <para>You can also download and install RESTclient, a
                    Java application used to test RESTful web
                    services, from <link
                        xlink:href="http://code.google.com/p/rest-client/"
                        >http://code.google.com/p/rest-client/</link>.
                </para>
            </listitem>
        </itemizedlist>
        <section xml:id="Feeds_using-curl-cli">
            <title>Sending API requests using cURL</title>
            <para>cURL is a command-line tool that is available in
                most UNIX system-based environments and Apple Mac OS X
                systems, and can be downloaded for Microsoft Windows
                to interact with REST interfaces. For more information
                on cURL, visit <link xlink:href="http://curl.haxx.se/"
                    >http://curl.haxx.se/</link>. </para>
            <para>cURL allows you to transmit and receive HTTP
                requests and responses from the command-line or from
                within a shell script. This makes it possible to work
                with the ReST API directly without using one of the
                client APIs. </para>
            <para>The following cURL command-line options are used in
                this guide to run the examples.</para>
            <para>
                <table>
                    <caption>cURL Command-Line Options</caption>
                    <col width="31%"/>
                    <col width="69%"/>
                    <thead>
                        <tr>
                            <th>Option</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><option>-d</option></td>
                            <td>Sends the specified data in a POST
                                request to the HTTP server</td>
                        </tr>
                        <tr>
                            <td><option>-i</option></td>
                            <td>Includes the HTTP header in the
                                output.</td>
                        </tr>
                        <tr>
                            <td><option>-H HEADER</option></td>
                            <td>Specifies an HTTP header in the
                                request.</td>
                        </tr>
                        <tr>
                            <td><option>-X</option></td>
                            <td>Specifies the request method to use
                                when communicating with the HTTP
                                server.The specified request is used
                                instead of the default method, which
                                is GET. For example, <option>-X
                                   PUT</option> specifies to use the
                                PUT request method.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>
                <note>
                    <para>If you have the tools, you can run the cURL
                        JSON request examples with the following
                        options to render the output from cURL into a
                        more readable format: <emphasis role="bold"
                            >&lt;curl JSON request example&gt; |
                            python -mjson.tool</emphasis>.</para>
                </note>
            </para>
            <para>To run the cURL request examples shown in this guide
                on Linux or Mac systems, perform the following
                actions:</para>
            <para>
                <orderedlist>
                    <listitem>
                        <para> Copy each example from the HTML version
                            of this guide an paste it into an ASCII
                            text editor (for example, vi or TextEdit).
                        </para>
                    </listitem>
                    <listitem>
                        <para> Modify each example with your required
                            account information and other information,
                            as detailed in this guide.</para>
                        <para>
                            <note>
                                <para>The carriage returns in the cURL
                                   request examples that are part of
                                   the cURL syntax are escaped with a
                                   backslash ('\') in order to avoid
                                   prematurely terminating the
                                   command. However you should not
                                   escape carriage returns inside the
                                   xml or json message within the
                                   command.</para>
                            </note>
                        </para>
                        <para>Consider the following cURL Authenticate
                            Request: XML example that is described in
                            detail in <xref
                                linkend="Generating_Auth_Token"
                            />:</para>
                        <example>
                            <title>cURL authentication request:
                                XML</title>
                            <?dbfo keep-together="always"?>
                            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="italic">yourUserName</emphasis>"     
        apiKey="<emphasis role="italic">yourApiKey</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
<uri security="external">'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri>
<uri security="internal">'https://staging.identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
                        </example>
                        <para>The lines that are part of the cURL
                            command syntax have been escaped with a
                            backslash ('\') to indicate that the
                            command continues on the next line:</para>
                        <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
  
   
(... lines within the xml portion of the message are not shown in this example)
(... the example only shows lines that are part of cURL syntax)     
     

   
 &lt;/auth&gt;<option>'</option> \
<uri security="external">'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri>
<uri security="internal">'https://staging.identity.api.rackspacecloud.com/v2.0/tokens'</uri>
                        </screen>
                        <para>However the lines
                                <emphasis>within</emphasis> the xml
                            portion of the message are
                                <emphasis>not</emphasis> escaped with
                            a backslash ('\') in order to avoid issues
                            with the xml processing:</para>
                        <screen language="bash">'&lt;?xml version="1.0" encoding="UTF-8"?>
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="italic">yourUserName</emphasis>"     
        apiKey="<emphasis role="italic">yourApiKey</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
</screen>
                        <para>The final line of the xml message is
                            escaped since the backslash lies
                                <emphasis>outside</emphasis> the xml
                            message and continues the cURL command to
                            the next line.</para>
                    </listitem>
                    <listitem>
                        <para>After you are finished modifying the
                            text for the cURL request example with
                            your information (for example <emphasis
                                role="italic">yourUserName</emphasis>
                            and <emphasis role="italic"
                                >yourApiKey</emphasis>), paste it into
                            your terminal window. Then execute the
                            cURL command by pressing
                                <guilabel>Enter</guilabel>.</para>
                        <para>If you have trouble copying and pasting
                            the examples as described, try typing the
                            entire example on one long line, removing
                            all the backs.</para>
                    </listitem>
                    <listitem>
                        <para>Press <guilabel>Enter</guilabel> to run
                            the cURL command.</para>
                    </listitem>
                </orderedlist>
            </para>
        </section>
    </chapter>
    <chapter xml:id="Generating_Auth_Token">
        <title>Generating an authentication token</title>
        <para>Whether you use cURL or a REST client to interact with
            the Cloud Feeds API, you must generate an authentication
            token. You provide this token in the X-Auth-Token header
            in each Cloud Feeds API request. </para>
        <para>Examples 4.1 and 4.2 demonstrate how to use cURL to
            obtain the authentication token and your account number.
            You must provide both when making subsequent Cloud Feeds
            API requests.</para>
        <para>Remember to replace the placeholder names in the
            following authentication request examples with your
                information:<itemizedlist spacing="compact">
                <listitem>
                    <para security="external"><emphasis role="italic"
                            >yourUserName</emphasis> &mdash; Your
                        common Rackspace Cloud username, as supplied
                        during registration.</para>
                    <para security="internal"><emphasis role="italic"
                        >yourUserName</emphasis> &mdash; Your
                        common Cloud username as supplied to you.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic"
                            >yourApiKey</emphasis> &mdash; Your API
                        access key.</para>
                        <para security="external"> You can obtain the key from the
                        Rackspace <link
                            xlink:href="http://mycloud.rackspace.com/"
                            >Cloud Control Panel</link>) by accessing
                        selecting <emphasis role="bold">Account
                            Settings</emphasis> from the <emphasis
                            role="italic">yourAccount</emphasis> menu
                        in the top-right corner of the window.</para>
                </listitem>
            </itemizedlist></para>
        <para security="internal">
            You can use either of the following endpoints to access the authentication service, depending whether you use a staging or a production environment:
        </para>
        <itemizedlist spacing="compact" security="internal">
            <listitem>
                <para>https://staging.identity.api.rackspacecloud.com/v2.0/</para></listitem>
            <listitem>
                <para>https://identity-internal.api.rackspacecloud.com/v2.0/</para>
            </listitem>
        </itemizedlist>
        <para security="external"> You can use either of the following endpoints to access
            the Authentication Service, regardless of US or UK
            identities: </para>
        <itemizedlist spacing="compact" security ="external">
            <listitem>
                <para><link xlink:href="&ENDPOINT-US-20;"
                        >&ENDPOINT-US-20;</link></para></listitem>
            <listitem>
                <para><link xlink:href="&ENDPOINT-UK-20;"
                        >&ENDPOINT-UK-20;</link></para>
            </listitem>
        </itemizedlist>
        <para security="external"> Your account might be based in either the US or the UK;
            this is not determined by your physical location but by
            the location of the Rackspace retail site which was used
            to create your account: </para>
        <itemizedlist spacing="compact" security="external">
            <listitem>
                <para> If your account was created via <link
                        xlink:href="http://www.rackspacecloud.com"
                        >http://www.rackspacecloud.com</link>, it is a
                    US-based account. </para>
            </listitem>
            <listitem>
                <para> If your account was created via <link
                        xlink:href="http://www.rackspace.co.uk"
                        >http://www.rackspace.co.uk</link>, it is a
                    UK-based account. </para>
            </listitem>
        </itemizedlist>
        <para security="external">Notice that you authenticate by using a special URL for
            the Cloud authentication service. For example, you may use
                <code>https://identity.api.rackspacecloud.com/v2.0/tokens</code>
            as shown in the following Authenticate Request examples.
            Note that the <code>v2.0</code> component in the URL
            indicates that you are using version 2.0 of the Cloud
            Authentication API.</para>
        <para security="internal">Notice that you authenticate by
            using a special URL for the Cloud authentication service.
            For example, you may use
                <code>https://staging.identity.api.rackspacecloud.com/v2.0/tokens</code>
            or
                <code>https://identity-internal.api.rackspacecloud.com/v2.0/tokens</code>
            as shown in the following Authenticate Request examples.
            Note that the <code>v2.0</code> component in the URL
            indicates that you are using version 2.0 of the Cloud
            Authentication API.</para>
        <note security="external">
            <para>For UK-based accounts, you may decide to use
                    <code>'https://lon.identity.api.rackspacecloud.com/v2.0/tokens'</code>
                instead.</para>
        </note>
        <note security="internal">
            <para>For UK-based accounts, you may decide to use
                    <code>'https://lon.identity-internal.api.rackspacecloud.com/v2.0/tokens'</code>
                or
                    <code>'https://lon.staging.identity.api.rackspacecloud.com/v2.0/tokens'</code>
                instead.</para>
        </note>
        <example security="external">
            <title>cURL authenticate request: XML</title>
            <?dbfo keep-together="always"?>
            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;auth>
   &lt;apiKeyCredentials
      xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
         username="<replaceable>yourUserName</replaceable>"
         apiKey="<replaceable>yourApiKey"</replaceable>/>
&lt;/auth>' \
<option>-H 'Content-Type: application/xml'</option> \
<option>-H 'Accept: application/xml'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        </example>
        <example security="internal">
            <title>cURL authenticate request: XML</title>
            <?dbfo keep-together="always"?>
            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;auth>
   &lt;apiKeyCredentials
      xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
         username="<replaceable>yourUserName</replaceable>"
         apiKey="<replaceable>yourApiKey"</replaceable>/>
&lt;/auth>' \
<option>-H 'Content-Type: application/xml'</option> \
<option>-H 'Accept: application/xml'</option> \
<uri>'https://staging.identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        </example>
        <example security="external">
            <title>cURL authenticate request: JSON</title>
            <?dbfo keep-together="always"?>
            <screen language="bash">curl -s https://identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
     -d '{"auth":{"RAX-KSKEY:apiKeyCredentials":{"username":"<replaceable>yourUserName</replaceable>",
        "apiKey":"<replaceable>yourApiKey</replaceable>"}}}' \ 
     -H "Content-Type:
        application/json" </screen>
        </example>
        <example security="internal">
            <title>cURL authenticate request: JSON</title>
            <?dbfo keep-together="always"?>
            <screen language="bash">curl -s https://staging.identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
     -d '{"auth":{"RAX-KSKEY:apiKeyCredentials":{"username":"<replaceable>yourUserName</replaceable>",
        "apiKey":"<replaceable>yourApiKey</replaceable>"}}}' \ 
     <emphasis role="bold">-H "Content-Type:
        application/json" </emphasis></screen>
        </example>
        <para>The authentication token <code>id</code> is returned
            along with an <code>expires</code> attribute that
            specifies when the token expires. </para>
        <note>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>The values that you receive in your
                        responses vary from the examples shown in this
                        document because they are specific to your
                        account.</para>
                </listitem>
                <listitem>
                    <para>The information shown in the authentication
                        response examples above is for US-based
                        accounts. If you authenticate against the
                        UK-endpoint for authorization service, you see
                        the service catalog information for UK-based
                        accounts.</para>
                </listitem>
                <listitem>
                    <para> The <code>expires</code> attribute denotes
                        the time after which the token will
                        automatically expire. A token may be manually
                        revoked before the time identified by the
                        expires attribute; <code>expires</code>
                        predicts a token's maximum possible lifespan
                        but does not guarantee that it will reach that
                        lifespan. Clients are encouraged to cache a
                        token until it expires.</para>
                </listitem>
                <listitem>
                    <para>Applications should be designed to
                        re-authenticate after receiving a 401
                        (Unauthorized) response from a service
                        endpoint.</para>
                </listitem>
            </itemizedlist>
        </note>
        <para>The actual account number is located after the final
            slash (/) in the <code>publicURL</code> field. You must
            specify your account number on most of the Cloud Feeds API
            operations, wherever you see the placeholder
                <replaceable>tenantID</replaceable> specified in the
            examples in this guide.</para>
        <para>To be able to obtain feeds, customers need to be enabled
            for one of the following roles:</para>
        <para>
            <table frame="void">
                <caption>Cloud Feeds Roles</caption>
                <col width="29%"/>
                <col width="71%"/>
                <thead>
                    <tr>
                        <th>Role </th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>cloudfeeds:service-admin</td>
                        <td>This role can see all tenant IDs that have
                            been enabled for Cloud feeds. The
                            service-admin can perform
                                <command>POST</command>, as well as
                                <command>GET</command> requests.</td>
                    </tr>
                    <tr>
                        <td>cloudfeeds:observer</td>
                        <td>The observer role requires a tenant ID.
                            This role can only perform
                                <command>GET</command> requests.</td>
                    </tr>
                </tbody>
            </table>
        </para>
    <para>You can view the role for which you are enabled in the
            successful response to an authentication request. The
            example below shows a tenant who has been enabled for the
                <emphasis role="italic">service-admin</emphasis> role. </para>
        <para>
            <programlisting>
  "user": {
     "RAX-AUTH:defaultRegion": "DFW",
     "RAX-AUTH:federated": false,
     "id": "1234567",
     "name": "cloudfeedadmin",
     "roles": [
                {
                    "description": "<emphasis role="bold">Able to observe cloud feeds data for all tenants</emphasis>",
                    "id": "1234567",
                    "name": "<emphasis role="bold">cloudfeeds:service-admin</emphasis>"
                },
                {
                    "description": "Admin Role.",
                    "id": "1",
                    "name": "identity:admin"
                },
                {
                    "description": "A Role that allows a user access to keystone Service methods",
                    "id": "5",
                    "name": "object-store:default",
                    "tenantId": "1234567"
                },
                {
                    "description": "A Role that allows a user access to keystone Service methods",
                    "id": "684",
                    "name": "compute:default",
                    "tenantId": "1234567"
                }
            ]
        }
       </programlisting>
        </para>
        <para>After authentication, you can use cURL to perform &GET;
            and &POST; requests for the Cloud Feeds API.</para>
    </chapter>
    <chapter xml:id="Service_Access_Endpoints-d1e753">
        <title>Service endpoints</title>
        <para security="external">The following table summarizes the endpoints to use for
            your Cloud Feeds API calls.</para>
        <para>
            <table rules="all" security="external">
                <caption>Regionalized service endpoints</caption>
                <col width="11%"/>
                <col width="11%"/>
                <col width="16%"/>
                <col width="16%"/>
                <col width="16%"/>
                <col width="16%"/>
                <col width="16%"/>
                <thead>
                    <tr align="center">
                        <td colspan="2">Region</td>
                        <td colspan="5">Endpoint</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        <td colspan="2">Chicago (ORD)</td>
                        <td colspan="5"
                                ><code>https://ord.feeds.api.rackspacecloud.com/&lt;feed
                                >/&lt;tenant id></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Dallas/Ft. Worth (DFW)</td>
                        <td colspan="5"
                                ><code>https://dfw.feeds.api.rackspacecloud.com/&lt;feed>/&lt;tenant
                                id></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Northern Virginia</td>
                        <td colspan="5"
                                ><code>https://iad.feeds.api.rackspacecloud.com/&lt;feed>/&lt;tenant
                                id></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">London (LON)</td>
                        <td colspan="5"
                                ><code>https://lon.feeds.api.rackspacecloud.com/&lt;feed>/&lt;tenant
                                id></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Sydney (SYD)</td>
                        <td colspan="5">
                            <code>https://syd.feeds.api.rackspacecloud.com/&lt;feed>/&lt;tenant
                                id></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Hong Kong (HKG)</td>
                        <td colspan="5">
                            <code>https://hkg.feeds.api.rackspacecloud.com/&lt;feed>/&lt;tenant
                                id></code></td>
                    </tr>
                </tbody>
            </table></para>
            <para security="external">Replace &lt;tenant id> with your
            actual account number returned as part of the
            authentication response. Use your actual account number
            wherever you see the placeholder
                <replaceable>tenantID</replaceable> specified in this
            guide. </para>
        <note security="internal">
            <itemizedlist>
                <listitem>
                    <para>Choose the endpoint for the data center
                        where your Cloud resources are located.</para>
                </listitem>
                <listitem>
                    <para>The Cloud Server that you use must be
                        located in the same datacenter where your
                        database resides.</para>
                </listitem>
                <listitem>
                    <para>All examples in this guide assume that you
                        are operating against the DFW data center,
                        however, if you are using a different
                        datacenter, be sure to use the associated
                        endpoint from the table instead.</para>
                </listitem>
            </itemizedlist>
        </note>
        <para security="internal">The following table summarizes the
            endpoints for a staging environment to use for your Cloud Feeds API calls. </para>
        <para>
            <table security="internal">
                <caption>Staging service endpoints </caption>
                <thead>
                    <tr align="center">
                        <td colspan="2">Region</td>
                        <td colspan="5">Endpoint</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        <td colspan="2">US</td>
                        <td colspan="5"
                                ><code>https://atom.staging.ord1.us.ci.rackspace.net/&lt;feed></code>
                        </td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">UK</td>
                        <td colspan="5"
                                ><code>https://atom.staging.ord1.uk.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                </tbody>
            </table>
        </para>
        <para security="internal">The following table summarizes the
            endpoints for a production enviroment for your Cloud Feeds API calls. </para>
        <para>
            <table security="internal">
                <caption>Production service endpoints </caption>
                <thead>
                    <tr align="center">
                        <td colspan="2">Region</td>
                        <td colspan="5">Endpoint</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        <td colspan="2">Chicago (ORD)</td>
                        <td colspan="5"
                                ><code>https://atom.prod.ord1.us.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Dallas/Ft. Worth (DFW)</td>
                        <td colspan="5"
                                ><code>https://atom.prod.dfw1.us.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Northern Virginia IAD)</td>
                                <td colspan="5"
                                ><code>https://atom.prod.iad3.us.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">London (LON)</td>
                        <td colspan="5"
                                ><code>https://atom.prod.lon1.uk.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Sydney (SYD)</td>
                        <td colspan="5"
                                ><code>https://atom.prod.syd2.us.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Hong Kong (HKG)</td>
                        <td colspan="5"
                                ><code>https://atom.prod.hkg1.us.ci.rackspace.net/&lt;feed></code></td>
                    </tr>
                </tbody>
            </table>
        </para>
    </chapter>
    <chapter xml:id="Cloud_Feeds_Catalog">
        <title>Cloud Feeds catalog</title>
        <para>Cloud Feeds supports a catalog of different feeds that
            are published.</para>
        <para> You can obtain a list of all the feeds that are
            available by submitting a <command>GET</command> request
            against the Cloud Feeds endpoint as shown in the following
            example:</para>
        <programlisting security="internal">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://<replaceable>endpointURL</replaceable>/</programlisting>
        <programlisting security="external">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://<replaceable>endpointURL</replaceable>/<replaceable>tenantID</replaceable>/</programlisting>
    <para>This operation returns a list of supported feeds as shown in
            the following example</para>
        <programlisting language="xml"><xi:include href="./samples/resGetCatalogFeed.xml" parse="text"/></programlisting>
    </chapter>
    <chapter xml:id="Concepts">
        <title>Cloud Feeds concepts</title>
        <para>Cloud Feeds uses AtomPub to publish different types of
            feeds. Feeds are composed of a number of items called
                <emphasis role="italic">entries</emphasis>. Each entry
            has an extensible set of attached metadata. </para>
        <para>AtomPub together with the Atom Syndication Format (ASF)
            provides a format for implementing web feeds. Web feeds
            provide users with frequently updated content. AtomPub is
            based on an HTTP transfer of Atom-formatted
            representations. The Atom format is documented in the Atom
            Syndication Format.</para>
        <para>Cloud Feeds is an open-source AtomPub server for
            accessing, processing, and aggregating Atom entries. Cloud
            Feeds was designed to make it easy to build both
            generalized and specialized persistence mechanisms for
            Atom XML data, based on the Atom Syndication Format and
            the Atom Publishing Protocol.</para>
        <para>Cloud Feeds works the following way:</para>
        <para>
            <orderedlist>
                <listitem>
                    <para>Events are generated by a publisher and
                        added to the database as entries. Events can
                        be usage events, system events or billing
                        events.</para>
                </listitem>
                <listitem>
                    <para>Entries exist in Cloud Feeds for three days.
                        After that time period they are
                        deleted.</para>
                </listitem>
            </orderedlist>
        </para>
        <para>To read the official documentation for the Atom
            Syndication Format, see <link
                xlink:href="http://tools.ietf.org/search/rfc4287#section-4.1"
                >RFC 4287</link>. For more information about AtomPub,
            visit <link xlink:href="http://atompub.org/"
                >http://atompub.org/</link>.</para>
        <section xml:id="Container_Elements">
            <title>Container elements</title>
            <para>An Atom feed consists of a series of container
                elements, which contain metadata or actual content
                related to the feed. </para>
            <para>The Atom Publishing Protocol supports the following
                container elements:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><link linkend="Atom_Feed_Element">Atom
                                feed element</link></para>
                    </listitem>
                    <listitem>
                        <para><link linkend="Atom_Entry_Element">Atom
                                entry element</link></para>
                    </listitem>
                    <listitem>
                        <para><link linkend="Atom_Content-Element"
                                >Atom content element</link></para>
                    </listitem>
                </itemizedlist>
            </para>
            <section xml:id="Atom_Feed_Element">
                <title>Atom feed element</title>
                <para>An Atom Feed element is a representation of an
                    Atom feed, including metadata about the feed, and
                    some or all of the entries associated with it. </para>
                <para>The Atom Feed element represents the top-level
                    element of an Atom Feed Document. It functions as
                    a container for metadata and data associated with
                    the feed. Its element children consist of metadata
                    elements that are followed by zero or more Atom
                    Entry child elements. </para>
                <para>Following is an example of an entire Atom Feed
                    element.</para>
                <example>
                    <title>Atom feed element</title>
                    <programlisting language="xml"><xi:include href="./samples/AtomFeedElementExample.xml" parse="text"/></programlisting>
                </example>
            </section>
            <section xml:id="Atom_Entry_Element">
                <title>Atom entry element</title>
                <para>The Atom Entry element represents exactly one
                    Atom entry, outside of the context of an Atom
                    feed. It functions as a container for metadata and
                    data associated with the entry. This element can
                    appear as a child of the Atom Feed element, or it
                    can appear as the top-level element of a
                    stand-alone Atom Entry Document. </para>
                <para>Following is an example of an Atom Entry
                    element.</para>
                <example>
                    <title>Atom entry element</title>
                    <programlisting language="xml"><xi:include href="./samples/AtomEntryElementExample.xml" parse="text"/></programlisting>
                </example>
            </section>
            <section xml:id="Atom_Content-Element">
                <title>Atom content element</title>
                <para>The Atom Content element either contains or
                    links to the content of an entry. The type
                    attribute specifies the MIME media
                        <parameter>type</parameter>. If no
                        <parameter>type</parameter> attribute is
                    present, the content is treated as
                        <parameter>text</parameter>. </para>
                <para>Following is an example of an Atom Content
                    element.</para>
                <para>
                    <example>
                        <title>Atom content element</title>
                        <programlisting language="xml"><xi:include href="./samples/AtomContentElementExample.xml" parse="text"/></programlisting>
                    </example>
                </para>
            </section>

        </section>
        <section xml:id="Usage_and_System_Event_Messages-d1e1362">
            <title>Cloud feeds product events</title>
            <para>Cloud Feed places product events inside the Atom
                Content element. For example, the <tag>event</tag>
                element contains the product events (in this case for
                Cloud Backup product). </para>
            <example>
                <title>Cloud backup event information</title>
                <programlisting>&lt;atom:entry>
    &lt;atom:id>urn:uuid:a531497b-433d-405e-b0d7-2082aa138d20&lt;/atom:id>
    &lt;atom:category term="tid:65909bc5" />
    &lt;atom:category term="rgn:DFW" />
    &lt;atom:category term="rid:ce085f9c-c699-484f-8410-f58945ed839e" />
    &lt;atom:category term="widget.widget.gadget.usage" />
    &lt;atom:category term="type:widget.widget.gadget.usage" />
    &lt;atom:category term="type:cloud backup.storage.agent.usage" />
    &lt;atom:category term="dc:DFW1" />
    &lt;atom:content type="application/xml">
      &lt;event dataCenter="DFW1" endTime="2012-03-12T15:51:11Z" environment="PROD" 
          id="a531497b-433d-405e-b0d7-2082aa138d20" region="DFW"resourceId="ce085f9c-c699-484f-8410-f58945ed839e" 
          startTime="2012-03-12T11:51:11Z" tenantId="65909bc5" type="USAGE" version="1">
        &lt;widget:product dateTime="2013-09-12T11:51:11Z" disabled="false" enumList="BETTER" label="Test Label" 
          mid="94c61976-9f4c-11e1-bddf-ab57017a9899" num_checks="300" resourceType="GADGET" 
          serviceCode="Widget" time="11:51:11Z" version="2" />
      &lt;/event>
    &lt;/atom:content>
    &lt;atom:link href="https://atom.test.ord1.us.ci.rackspace.net/functest1/events/entries/urn:uuid:a531497b-433d-405e-b0d7-2082aa138d20" rel="self" />
    &lt;atom:updated>2014-06-03T18:30:56.138Z&lt;/atom:updated>
    &lt;atom:published>2014-06-03T18:30:56.138Z&lt;/atom:published>
  &lt;/atom:entry>
</programlisting>
            </example>
            <para>
                <note>
                    <para>Cloud Feeds evaluates all product events
                        against their XML schemas. </para>
                </note>
            </para>
        </section>
    </chapter>
    <chapter xml:id="Using_the_Cloud_Feeds_API">
        <title>Using the Cloud Feeds API</title>
        <para>This section uses the following steps to explain how to
            use the Cloud Feeds API:</para>
        <para>
            <itemizedlist>
                <listitem security="internal">
                    <para><link linkend="Create_Atom_Entry">Add a new
                            Atom event to a feed</link></para>
                </listitem>
                <listitem>
                    <para><link linkend="Get_Atom_Entry">Reading a
                            feed</link></para>
                </listitem>
                <listitem>
                    <para><link linkend="Filter_Atom_Entries">Get
                            certain types of events from a
                        feed</link></para>
                </listitem>
            </itemizedlist>
        </para>
        <para>This section assumes that you have successfully
            authenticated against the Rackspace Cloud API and obtained
            an authentication token as described in <link
                linkend="Generating_Auth_Token">Chapter 4: Generate an
                Authentication Token</link>. Please make sure to
            record the token because you need it to complete the
            exercises in this chapter.</para>
        <section xml:id="Create_Atom_Entry" security="internal">
            <title>Adding a new Atom event in a feed</title>
            <para>To insert a new Atom event in a feed you first need
                to create an Atom entry and save it in the same
                directory where you are making your request
                from.</para>
            <para>You then make a <methodname>POST</methodname>
                request with the specified feed URL and a pointer to
                the Atom entry you want to submit using the following
                syntax:</para>
            <para>
                <programlisting>curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" -H "Content-Type: application/atom+xml" -X POST https://<replaceable>endpointURL</replaceable>/<replaceable>feedName</replaceable>/events –d@<replaceable>inputFile </replaceable></programlisting>
            </para>
            <para>&lt;<emphasis role="italic">inputFile</emphasis>>
                specifies the path to a file that contains an atom
                entry. </para>
            <para>The following example shows what a payload for an
                Atom entry can look like. </para>
            <programlisting language="xml"><xi:include href="./samples/reqAddNewAtomEntry.xml" parse="text"/></programlisting>
            <para>The following example shows how to add a new Atom
                entry by providing a pointer to the entry:</para>
            <para>
                <programlisting>curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" -H "Content-Type: application/atom+xml" -X POST https://atom.staging.ord1.us.ci.rackspace.net/files/events –d@./cloudfiles-bandwidth-usage.xml</programlisting>
            </para>
            <para>
                <important>
                    <para>When making the post request, make sure to
                        set the HTTP Header to <emphasis>Content-Type:
                            application/atom+xml </emphasis></para>
                </important>
            </para>
            <para>After you have successfully posted the Atom XML to
                the correct Atom Hopper endpoint you will receive an
                    <code>HTTP 201</code> status code as a response.
                The response body also contains the Atom XML you
                posted in the request body as shown in the following
                example:</para>
            <programlisting language="xml"><xi:include href="./samples/resAddNewAtomEntry.xml" parse="text"/></programlisting>
        </section>
        <section xml:id="Get_Atom_Entry">
            <title>Reading a feed</title>
            <para>To retrieve an Atom feed or an Atom entry that was
                posted, submit a <methodname>GET</methodname> request
                using the following syntax:</para>
            <para>
                <programlisting security="external">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://<replaceable>endpointURL</replaceable>/<replaceable>feedName/</replaceable>events/<replaceable>tenantID</replaceable></programlisting>
                <programlisting security="internal">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://<replaceable>endpointURL</replaceable>/<replaceable>feedName/</replaceable>events</programlisting>
            </para>
            <para>The placeholders are defined in the following
                table.</para>
            <para>
                <table>
                    <caption>Syntax elements</caption>
                    <col width="30%"/>
                    <col width="70%"/>
                    <thead>
                        <tr align="left">
                            <td>Placeholder</td>
                            <td>Description</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td><emphasis role="italic"
                                   >authenticationToken</emphasis></td>
                            <td>Specifies the token that you obtain
                                during authentication.</td>
                        </tr>
                        <tr align="left">
                            <td><emphasis role="italic"
                                   >endpointURL</emphasis></td>
                            <td>Specifies the URL/VIP that was
                                obtained from the list of Cloud Feeds
                                endpoints.</td>
                        </tr>
                        <tr align="left">
                            <td><emphasis role="italic"
                                   >feedName</emphasis></td>
                            <td>Specifies he name of the feeds you are
                                trying to fetch events for. An example
                                of feed name is: nova, servers,
                                queues, files, etc.</td>
                        </tr>
                        <tr align="left" security="external">
                            <td><emphasis role="italic"
                                   >tenantID</emphasis></td>
                            <td>Specifies the tenantID for the given
                                tenant.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>The following is an example for a request for a
                feed:</para>
            <para>
                <programlisting security="external">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://dfw.feeds.api.rackspacecloud.com/nova/events/<replaceable>tenantID</replaceable></programlisting>
                <programlisting security="internal">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://atom.staging.ord1.us.ci.rackspace.net/nova/events</programlisting>
            </para>
            <para>This request returns 25 of the latest events in the
                Next Generation Cloud Server feed from the DFW data
                center. To make the formatting of the returned events
                more readable, you can submit the following
                request:</para>
            <para>
                <programlisting security="external">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://dfw.feeds.api.rackspacecloud.com/nova/events/<replaceable>tenantID</replaceable> | xmllint --format -</programlisting>
                <programlisting security="internal">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://atom.staging.ord1.us.ci.rackspace.net/nova/events | xmllint --format -</programlisting>
            </para>
        </section>
        <section xml:id="Filter_Atom_Entries">
            <title>Using query parameters to filter for certain
                events</title>
            <para>You can use query parameters to customize the
                entries and their order within a feed. Query
                parameters are part of the URL that is passed to the
                server as part of an API request. When you add query
                parameters to an API request, you modify the results
                in ways, such as refining your query or sorting the
                output. </para>
            <para>A typical URL that contains a query parameter looks
                like the following:</para>
            <para><code>http://server/program/path/?query_string
                </code></para>
            <para>The query string is composed of one or more field
                value pairs using the following format:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>Within each field value pair, the field
                            name and value are separated by an equals
                            sign (<emphasis role="italic">
                                =</emphasis>).</para>
                    </listitem>
                    <listitem>
                        <para>The series of pairs is separated by and
                            ampersand (&amp;) as shown in the
                            following example:</para>
                        <para><code>field1=value1&amp;field2=value2&amp;field3=value3...</code></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>The following table summarizes the query parameters
                you can specify for Cloud Feeds:</para>
            <para>
                <table>
                    <caption>Query parameters</caption>
                    <col width="15%"/>
                    <col width="34%"/>
                    <col width="51%"/>
                    <thead>
                        <tr>
                            <th>Query parameter</th>
                            <th>Description</th>
                            <th>Acceptable values</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><parameter>marker</parameter></td>
                            <td>Specifies a uuid that exists in the
                                Cloud Feeds system.</td>
                            <td>Must be a valid uuid that exists in
                                the Cloud Feeds, system, for example
                                   <code>rn:uuid:cd42141b-c030-6fca-6704-8285789a274b</code>.</td>
                        </tr>
                        <tr>
                            <td><parameter>direction</parameter></td>
                            <td>Specifies the direction from which to
                                return entries starting from the
                                current marker or entry.</td>
                            <td>Can be either <code>forward</code> or
                                   <code>backward</code>.</td>
                        </tr>
                        <tr>
                            <td><parameter>limit</parameter></td>
                            <td>Specifies the number of entries to be
                                returned. If the entered limit is
                                greater than the actual number of
                                entries, the actual number of entries
                                will be used.</td>
                            <td>Must be an integer between 1 and 1000
                                inclusive.</td>
                        </tr>
                        <tr>
                            <td><parameter>search</parameter></td>
                            <td>Allows filtering of a feed only for
                                events of a specified category.</td>
                            <td>See the <link
                                   linkend="Filter_by_Search_Category"
                                   >Filtering by search
                                   category</link> section.</td>
                        </tr>
                        <tr>
                            <td><parameter>startingAt</parameter></td>
                            <td>Allows filtering for a number of
                                entries that start at a specified
                                timestamp.</td>
                            <td>Must be in ISO 8601 Date and Time
                                format, and must contain a time zone,
                                for example: 2014-03-10T06:00:00.000Z.
                                For more information, see <link
                                   xlink:href="http://en.wikipedia.org/wiki/ISO_8601"
                                   >http://en.wikipedia.org/wiki/ISO_8601</link>.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>
                <note>
                    <para>The <parameter>startingAt</parameter>
                        parameter can not be used together with the
                            <parameter>marker</parameter> parameter.
                        If the <parameter>startingAt</parameter>
                        parameter is used without a
                            <parameter>direction</parameter>
                        parameter, then forward direction is
                        assumed.</para>
                </note>
            </para>
            <para>For more information, see <olink
                targetdoc="feeds-devguide"
                targetptr="Filter_Entries_by_Category_d1e1315"
                >“Filtering Entries by Categories
                ”</olink>.</para>
            <section xml:id="Filter_by_Search_Category">
                <title>Filtering by search category</title>
            <para>You can use a <methodname>GET</methodname> request
                    to filter for certain types of events you would
                    like to obtain from a feed by defining a specific
                        <emphasis role="italic">search
                        category</emphasis>. You specify the seach
                    categories by adding <parameter>search</parameter>
                    as the URL parameter at the end of the feeds URL
                    and then specifying the category or item you want
                    to search for. The following example shows how to
                    get all event types that fall under the
                        <emphasis>cloudsites.metered.site.usage</emphasis>
                    category:</para>
            <para>
                <programlisting security="external">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://ord.feeds.api.rackspacecloud.com/sites/events/<replaceable>tenantID</replaceable>/?search=(cat=type:cloudsites.metered.site.usage)</programlisting>
                <programlisting security="internal">curl –H "X-Auth-Token: <replaceable>authenticationToken</replaceable>" –X GET https://atom.staging.ord1.us.ci.rackspace.net/sites/events/?search=(cat=type:cloudsites.metered.site.usage)</programlisting>
            </para>
            </section>
            <section xml:id="Filter_by_timestamp">
                <title>Filtering by
                    timestamp<?sbr?><?sbr?><?sbr?></title>
                <para>You can use the
                        <parameter>startingAt</parameter> query
                    parameter to filter for feed entries starting at a
                    certain timestamp. The parameter takes an ISO 8601
                    Date and Time format and must contain a timezone. </para>
            <para>The following URL shows how to fetch entries with a
                    timestamp that is newer than 2014-03-10
                    00:00:00.000 UTC:</para>
            <programlisting security = "internal">http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?startingAt=2014-03-10T00:00:00.000Z</programlisting>
            <programlisting security = "external">http://ord.feeds.api.rackspacecloud.com/namespace/feed/?startingAt=2014-03-10T00:00:00.000Z</programlisting>
            <para>The following URL shows how to fetch entries with a
                timestamp that older than 2014-03-10 00:00:00.000 UTC
                by setting the <parameter>direction</parameter>
                parameter to <emphasis role="italic"
                    >backward</emphasis>:</para>
            <programlisting security = "internal">http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?startingAt=2014-03-10T00:00:00.000Z&amp;direction=backward</programlisting>
            <programlisting security="external">http://ord.feeds.api.rackspacecloud.com/namespace/feed/?startingAt=2014-03-10T00:00:00.000Z&amp;direction=backward</programlisting>
                </section>
            <section xml:id="Filtering_using_AND_OR_NOT"><title>Filtering using AND, OR, and NOT</title>
                <para>Cloud Feeds supports advanced filters using the
                    AND, OR, and NOT operators and their combinations. </para>
                <para>The following example shows how to filter for
                    multiple categories using the &amp; (AND)
                    operator:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for multiple categories using
                            an &amp; operator</title>
                        <programlisting>http://localhost:8080/namespace/feed/?search=(%26(cat=CAT1)(cat=CAT2))</programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for multiple categories using
                            an &amp; operator</title>
                        <programlisting>http://localhost:8080/namespace/feed/?search=(%26(cat=CAT1)(cat=CAT2))</programlisting>
                    </example>
                </para>
                <para>
                    <note>
                        <para><emphasis role="bold">%26</emphasis> is
                            the urlencoded value of the <emphasis
                                role="bold">&amp;</emphasis> operator.
                            The decoded search string for the above
                            example is
                            (&amp;(cat=CAT1)(cat=CAT2)).</para>
                    </note>
                </para>
                <para>The following example shows how to filter for
                    multiple categories using an AND statement:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for multiple categories using
                            an AND statement</title>
                        <programlisting>http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(AND(cat=CAT1)(cat=CAT2))</programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for multiple categories using
                            an AND statement</title>
                        <programlisting>http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(AND(cat=CAT1)(cat=CAT2))</programlisting>
                    </example>
                </para>
                <para>The following example shows how to filter for
                    multiple categories using an | (OR)
                    operator:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for multiple categories using
                            an | operator</title>
                        <programlisting> http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(%7C(cat=CAT1)(cat=CAT2)) 
</programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for multiple categories using
                            an | operator</title>
                        <programlisting> http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(%7C(cat=CAT1)(cat=CAT2)) 
</programlisting>
                    </example>
                </para>
                <para>
                    <note>
                        <para>
                            <emphasis role="bold">%7C</emphasis> is
                            the urlencoded value of the <emphasis
                                role="bold">|</emphasis> operator. The
                            decoded search string for the above
                            example is (|(cat=CAT1)(cat=CAT2))</para>
                    </note>
                </para>
                <para>The following example shows how to filter for
                    multiple categories using an OR statement:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for multiple categories using
                            an OR statement</title>
                        <programlisting>http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(OR(cat=CAT1)(cat=CAT2))
</programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for multiple categories using
                            an OR statement</title>
                        <programlisting>http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(OR(cat=CAT1)(cat=CAT2))
</programlisting>
                    </example>
                </para>
                <para>The following example shows how to filter for a
                    category that is entered as not <emphasis
                        role="bold">CAT1</emphasis> using a !
                    operator:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for a single category using a
                            ! (NOT) operator</title>
                        <programlisting> http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(!(cat=CAT1)) </programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for a single category using a
                            ! (NOT) operator</title>
                        <programlisting> http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(!(cat=CAT1)) </programlisting>
                    </example>
                </para>
                <para>The following example shows how to filter for a
                    category that is entered as not <emphasis
                        role="bold">CAT1</emphasis> using a NOT
                    statement:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for a single category using a
                            NOT statement</title>
                        <programlisting> http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(NOT(cat=CAT1)) </programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for a single category using a
                            NOT statement</title>
                        <programlisting>http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(NOT(cat=CAT1)) </programlisting>
                    </example>
                </para>
                <para>You can also use the AND, OR, and NOT operators
                    to filter for multiple categories combined.</para>
                <para>The following is example shows how to search for
                    a category that is entered as CAT1 and ( CAT2 or
                    CAT3 ) but not CAT4:</para>
                <para>
                    <example security="internal">
                        <title>Filtering on a category entered as CAT1, but not CAT4:</title>
                        <programlisting> http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(%26(cat=CAT1)(%7C(cat=CAT2)(cat=CAT3))(!(cat=CAT4))) </programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering on a category entered as
                            CAT1, but not CAT4:</title>
                        <programlisting>http://ord.feeds.api.rackspacecloud.com/namespace/feed/?search=(%26(cat=CAT1)(%7C(cat=CAT2)(cat=CAT3))(!(cat=CAT4))) </programlisting>
                    </example>
                </para>
                <para>
                    <note>
                        <para><emphasis role="bold">%26</emphasis> is
                            the urlencoded value of the <emphasis
                                role="bold">&amp;</emphasis> operator
                            and <emphasis role="bold">%7C</emphasis>
                            is the urlencoded value of the <emphasis
                                role="bold">|</emphasis> operator. The
                            decoded search string for the above
                            example is
                            (&amp;(cat=CAT1)(|(cat=CAT2)(cat=CAT3))(!(cat=CAT4))).</para>
                    </note>
                </para>
                <para>Additionally you can use the word "AND" in place
                    of the <emphasis role="bold">&amp;</emphasis>
                    operator and the word "OR" in place of the
                        <emphasis role="bold">|</emphasis> operator
                    ias shown int he following example:</para>
                <para>
                    <example security="internal">
                        <title>Filtering for multiple categories using
                            AND statement</title>
                        <programlisting>http://atom.staging.ord1.us.ci.rackspace.net/namespace/feed/?search=(AND(cat=CAT1)(OR(cat=CAT2)(cat=CAT3))(NOT(cat=CAT4))) </programlisting>
                    </example>
                    <example security="external">
                        <title>Filtering for multiple categories using
                            AND statement</title>
                        <programlisting>http://ord.feeds.api.rackspacecloud.com/namespace/namespace/feed/?search=(AND(cat=CAT1)(OR(cat=CAT2)(cat=CAT3))(NOT(cat=CAT4))) </programlisting>
                    </example>
                </para>
            
            </section>

        </section>
    </chapter>
    <chapter xml:id="Next_Steps">
        <title>Next steps</title>
        <para>To learn more aboud the Cloud Feeds API, read <olink
                targetdoc="cloudfeeds-devguide"
                targetptr="Using_Cloud_Feeds">Using Cloud
                Feeds</olink> in the <emphasis role="italic">Cloud
                Feeds Developer's Guide</emphasis>.</para>
        <section xml:id="Additional_Resources">
            <title>Additional resources</title>
            <para>The following lists provides links to additional
                resources about Cloud Feeds and Atom:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><link
                                xlink:href="https://github.com/rackerlabs/atom-hopper/wiki"
                                >Atom Hopper Wiki on
                            Github</link></para>
                    </listitem>
                    <listitem>
                        <para><link
                                xlink:href="https://github.com/rackerlabs/standard-usage-schemas/wiki"
                                >Standard Usages Schemas Wiki on
                                Github</link></para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
    </chapter>
</book>
