<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash "&#x2013;">
        <!ENTITY mdash "&#x2014;">
        <!ENTITY hellip "&#x2026;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        
        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">
]>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="feeds-devguide"
    version="5.0-extension RaxBook-2.0">
    <?rax title.font.size="35px" subtitle.font.size="20px"?>
    <title>Rackspace Cloud Feeds Publishers Guide</title>
    <?rax status.bar.text.font.size="40px"
          status.bar.text="Early Availability"?>
    <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>Rackspace Cloud</orgname>
            </affiliation>
        </author>
        <copyright>
            <year>2014</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0</releaseinfo>
        <productname>Rackspace Cloud Feeds</productname>
        <pubdate/>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the template.</remark>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is intended for customers of Cloud Feeds who want to submit a feed
                to be published through the Cloud Feeds engine. </para>
        </abstract>
        <revhistory>
            <revision>
                <date>2014-09-01</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Created first draft of the Cloud Feeds Publishers Guide</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>
        <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
            <raxm:displayname>Cloud Feeds Publisher Guide</raxm:displayname>
            <raxm:product version="v1.0">cloud-feeds</raxm:product>
            <raxm:priority>30</raxm:priority>
        </raxm:metadata>
    </info>
    <chapter xml:id="overview">
        <title>Overview</title>
        <para>Rackspace Cloud Feeds enables customers on the public cloud to access near real-time
            usage and system events that can be used for analysis, monitoring, and automation.
            Internal customers also have the ability to publish feeds through the Cloud Feeds
            framework for usage by customers. This guide aims at providing guidelines for Cloud
            Feeds publishers to prepare feeds for publication through the Cloud Feeds engine.</para>
        <para>To understand Cloud Feeds, users should know the following:</para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>Atom Hopper (for more information, see <link
                        xlink:href="http://atomhopper.org">Atom Hopper </link>)</para>
            </listitem>
            <listitem>
                <para>Apache Abdera (for more information, see <link
                        xlink:href="http://abdera.apache.org">Apache Abdera</link>)</para>
            </listitem>
            <listitem>
                <para>The Atom Publishing Protocol, RFC 5023 (for more information, see <link
                        xlink:href="http://www.ietf.org/rfc/rfc5023.txt">RFC 5023</link>)</para>
            </listitem>
            <listitem>
                <para>Feed Paging and Archiving, RFC 5005 (for more information, see<link
                        xlink:href="http://www.ietf.org/rfc/rfc5005.txt">RC 5005</link> )</para>
            </listitem>
            <listitem>
                <para>RESTful web services (for more information, see <link
                        xlink:href="http://en.wikipedia.org/wiki/Representational_state_transfer"
                        >RESTful web services</link>)</para>
            </listitem>
            <listitem>
                <para>HTTP/1.1 protocol (for more information, see <link
                        xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP/1.1
                        protocol</link>)</para>
            </listitem>
            <listitem>
                <para>JSON and XML data serialization formats (for more information, see <link
                        xlink:href="http://docs.dhtmlx.com/gantt/desktop__serialization.html">JSON
                        and XML</link>)</para>
            </listitem>
            <listitem>
                <para>Atom Syndication Format, RFC 4287 (for more information, see <link
                        xlink:href="http://www.rfc-base.org/rfc-4287.html">JRFC 4287</link></para>
            </listitem>
        </itemizedlist>
        <section xml:id="Document_Change_History">
            <title>Document change history</title>
            <para>This version of the guide replaces and obsoletes all previous versions. The most
                recent changes are described in the following table:</para>
            <?rax revhistory?>
        </section>
        <section xml:id="Additional_Resources">
            <title>Additional resources</title>
            <para>For information about getting started with the API, see the <citetitle>Cloud Feeds
                    Getting Started Guide</citetitle> at <link
                    xlink:href="http://docs.rackspace.com/">http://docs.rackspace.com/</link>. For
                more detailed information about using the Cloud Feeds API, see the <emphasis
                    role="italic">Cloud Feeds Developer Guide</emphasis> at <link
                    xlink:href="http://docs.rackspace.com/">http://docs.rackspace.com/</link>. </para>
            <para>Visit the <link
                    xlink:href="http://feedback.rackspacecloud.com/forums/71021-product-feedback/category/42449-cloud-databases"
                    >Product Feedback Forum</link> to tell us what you think about Cloud
                Feeds.</para>
            <para>You can also follow Rackspace updates and announcements via Twitter at <link
                    xlink:href="http://www.twitter.com/rackspace"
                    >http://www.twitter.com/rackspace</link>. </para>
            <para>This API uses standard HTTP/1.1 response codes as documented at <link
                    xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
                    >http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>. </para>
        </section>
    </chapter>
    <chapter xml:id="General_API_Information-d1e633">
        <title>Overview</title>
        <para>Cloud Feeds supports the publication of <emphasis role="bold">events </emphasis>that
            are collected in a <emphasis role="bold">feed</emphasis>. There is a specific format for
            the events, and you can have multiple types of events in a single feed.</para>
        <para>Cloud Feeds uses AtomPub to publish different types of feeds. AtomPub is based on an
            HTTP transfer of Atom-formatted representations. The Atom format is documented in the
            Atom Syndication Format.</para>
        <para>AtomHopper events must be defined using the Common Event Format (CEF). UMS (Usage
            Measurement Service) utilizes CEF for tracking purposes, but CEF can be also used for
            other events and by third-party event publishers. The Common Event Format supports
            versioning of the event and product nodes through the <emphasis role="italic"
                >version</emphasis> attribute. This allows products to release new versions of their
            schema.</para>
        <para>To read the official documentation for the Atom Syndication Format, see <link
                xlink:href="http://tools.ietf.org/search/rfc4287#section-4.1">RFC 4287</link>. For
            more information about AtomPub, visit <link xlink:href="http://atompub.org/"
                >http://atompub.org/</link>.</para>
        <section xml:id="Event_Types">
            <title>Event types</title>
            <para>Cloud Feeds supports the following event types. </para>
            <para><itemizedlist>
                    <listitem>
                        <para>Usage events</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">System events</emphasis> are published to notify
                            subscribers about changes in their environments - a server has been
                            provisioned, an IP address has been released, there is an error state in
                            a VM, and so on. </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">User access events</emphasis> are generated when
                            a user attempts to access a specific API (for example, if a user
                            requests that a server be shut down). </para>
                    </listitem>
                </itemizedlist>These events are highly useful for troubleshooting and for compliance
                auditing.</para>
        </section>
        <section xml:id="Event_format">
            <title>Event format</title>
            <para>Currently, Cloud Feeds supports Feeds in <emphasis role="bold">XML</emphasis>
                format. The feeds and events follow the <link
                    xlink:href="http://tools.ietf.org/html/rfc4287">Atom Syndication Format</link>
                and the API adheres to the <link xlink:href="http://tools.ietf.org/html/rfc5023"
                    >Atom Publication Protocol</link>. A feed has the following structure:</para>
            <programlisting language="xml" security="internal"><xi:include href="./samples/feed_structure.xml" parse="text"/></programlisting>
            <para>The following table describes a description of each element in a feed:</para>
            <para>
                <table frame="border">
                    <caption>Feed Elements</caption>
                    <col width="30%"/>
                    <col width="70%"/>
                    <thead>
                        <tr>
                            <th>Element</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>feed</code></td>
                            <td>Generated by Cloud Feeds. This element is only present when reading
                                the feeds. It includes information about the feed, such as how to
                                navigate to the next "page" of events.</td>
                        </tr>
                        <tr>
                            <td><code>atom</code></td>
                            <td>Contains information submitted by the publisher of the event and
                                information generated by Cloud Feeds. Includes meta-information
                                about the event, such as an ID, and categories the event should
                                match.</td>
                        </tr>
                        <tr>
                            <td><code>event</code></td>
                            <td>Generated by the publisher. Contains information about the event
                                that is <emphasis role="italic">not </emphasis>product-specific,
                                such as the time/duration of the event, where the event occurred,
                                etc.</td>
                        </tr>
                        <tr>
                            <td><code>product</code></td>
                            <td>Generated by the publisher. Contains product-specific information
                                about the event, such as the server type, IP address, state,
                                etc.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>
    </chapter>
    <chapter xml:id="Element_of_an_atom_entry">
        <title>Event node</title>
        <para>The Event node is the main element of a Cloud Feeds usage event entry.</para>
        <para>The Event node contains the following elements:</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Event node attributes (all these attributes are pre-defined)</para>
                </listitem>
                <listitem>
                    <para>Product node</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>Following is an example of an event node.</para>
        <para>
            <programlisting>&lt;event 
      <emphasis role="bold">startTime</emphasis>="2014-07-14T22:19:52Z"
      <emphasis role="bold">endTime</emphasis>="2014-07-14T24:00:00Z" 
      <emphasis role="bold">region</emphasis>="DFW" <emphasis role="bold">dataCenter</emphasis>="DFW1" <emphasis role="bold">type</emphasis>="USAGE"
      <emphasis role="bold">id</emphasis>="8d89673c-c989-11e1-895a-0b3d632a8a89"
      <emphasis role="bold">resourceId</emphasis>="3863d42a-ec9a-11e1-8e12-df8baa3ca440"
      <emphasis role="bold">tenantId</emphasis>="1234" <emphasis role="bold">version</emphasis>="2">
        &lt;cb-store:product version="1" serviceCode="CloudBackup"
           serverID="9445"
           storage="99992827882" resourceType="AGENT"/>
&lt;/event></programlisting>
        </para>
        <section xml:id="Event_node">
            <title>Event node attributes<?sbr?></title>
            <para>The attributes in the event node are already pre-defined and cannot be changed.
                The event node consists of the following attributes:</para>
            <para>
                <table frame="border">
                    <caption>Attributes in event node</caption>
                    <col width="20%"/>
                    <col width="20%"/>
                    <col width="40%"/>
                    <col width="20%"/>
                    <thead>
                        <tr>
                            <th>Attributes</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Condition</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>startTime</code></td>
                            <td>event:UTCDateTime</td>
                            <td>Specifies the start time of the event, the time format must be in
                                ISO format: <emphasis role="italic"
                                    >yyyy-MM-dd'T'HH:mm:ss.SSSZ</emphasis>. The
                                    <code>startTime</code> is for the UTC time zone.
                                    <code>startTime</code> is inclusive, which means the event
                                occurred starting at the <code>startTime</code>, not after.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Optional. </para>
                                    </listitem>
                                    <listitem>
                                        <para>Required for events of type USAGE.</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>endTime</code></td>
                            <td>event:UTCDateTime</td>
                            <td>Specifies the end time of the event, the time format must be:
                                    <emphasis role="italic">yyyy-MM-dd'T'HH:mm:ss.SSSZ</emphasis>.
                                UTC, ISO Format end time. For an EXISTs event, the startTime and
                                endTime reflect the event duriation for the resource instance.
                                endTime is exclusive (i.e. the event occurred up to, but not during
                                the endTime). endTime must come after startTime.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Optional. </para>
                                    </listitem>
                                    <listitem>
                                        <para>Required for events of type USAGE.</para>
                                    </listitem>
                                    <listitem>
                                        <para> The startTime attribute must also be
                                            specified.</para>
                                    </listitem>
                                    <listitem>
                                        <para> The event can't span 24 hours</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>eventTime</code></td>
                            <td>event:UTCDateTime</td>
                            <td> UTC, ISO Format event time. The time when an event occured. Use
                                instead of startTime and endTime in cases where the event does not
                                have a range.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Optional. </para>
                                    </listitem>
                                    <listitem>
                                        <para>Cannot coexist with startTme or endTime</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>region</code></td>
                            <td>event:Region</td>
                            <td>Specifies the region in which the event is located. If this
                                attribute is not specified, GLOBAL will be assumed. GLOBAL implies
                                that the resoure is regionless. For a list of possible values, see
                                    <link linkend="Event_node_attributes">Event node
                                    attributes</link>.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>dataCenter</code></td>
                            <td>event:DC</td>
                            <td>Specifies the datacenter of the event. The attribute is optional, if
                                it is not specified GLOBAL will be assumed. GLOBAL implies that the
                                resource is regionless. For a list of possible values, see <link
                                    linkend="Event_node_attributes">Event node
                                attributes</link>.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Optional.</para>
                                    </listitem>
                                    <listitem>
                                        <para>For most cases, this attribute must be defined and
                                            cannot default to GLOBAL.</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>type</code></td>
                            <td>event:EventType</td>
                            <td>Specifies the type of event. Identifies the type of event. If one of
                                the existing event types fail to produce any feeds, set this type to
                                EXTENDED and add an <code>eventType</code> attribute to your product
                                schema.For more information, see <link linkend="Event_types">Event
                                    types</link>.</td>
                            <td>Required</td>
                        </tr>
                        <tr>
                            <td><code>id</code></td>
                            <td>event:UUID</td>
                            <td>Specifies the unique UUID for the event record. This value should be
                                UUID Version 1, 2, or 4. For more information, see
                                http://en.wikipedia.org/wiki/Universally_unique_identifier. </td>
                            <td>Required</td>
                        </tr>
                        <tr>
                            <td><code>resourceId</code></td>
                            <td>event:NonEmptyString</td>
                            <td>Specifies the id of the resource.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Optional. </para>
                                    </listitem>
                                    <listitem>
                                        <para>Required if the <code>resourceType</code> attribute is
                                            specified.</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>resourceName</code></td>
                            <td>event:NonEmptyString"</td>
                            <td>Specifies the customer-defined name for the resource.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>tenantId</code></td>
                            <td>event:NonEmptyString</td>
                            <td>Specifies the tenant id of the publishers</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>version</code></td>
                            <td>event:NonEmptyString</td>
                            <td>Specifies the version of the event record.</td>
                            <td>
                                <itemizedlist>
                                    <listitem>
                                        <para>Required. </para>
                                    </listitem>
                                    <listitem>
                                        <para>If this attribute is set to 2, the event cannot span
                                            beyond midnight as defined in <code>startTime</code> and
                                                <code>endTime</code>.</para>
                                    </listitem>
                                </itemizedlist>
                            </td>
                        </tr>
                        <tr>
                            <td><code>clientUsername</code></td>
                            <td>event:Username</td>
                            <td>Specifies the user name for the sub-account, when applicable.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>agentUsername</code></td>
                            <td>event:Username</td>
                            <td>Specifies the Rackspace agent who is taking action on account of the
                                user.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>resourceURI</code></td>
                            <td>xsd:anyURI</td>
                            <td>Specifies a URI that uniquely identitfies the resource.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>referenceId</code></td>
                            <td>event:UUID</td>
                            <td>Specifies a GUID identifying the event record, that this record is
                                updating. This is optional, and this should be used if this event is
                                correcting another event.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>rootAction</code></td>
                            <td>event:NonEmptyString</td>
                            <td>Specifies the action that caused the event.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>severity</code></td>
                            <td>event:Severity</td>
                            <td>Specifies the severity of the event. Valid values are INFO, WARNING,
                                CRITICAL. This is only valid for system events, not usage
                                events.</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>environment</code></td>
                            <td>event:ENVIRONMENT</td>
                            <td>Specifies the environment where the message originated from. If this
                                attribute is not specified, PROD will be assumed. For a list of
                                possible values, see <link linkend="Event_node_attributes">Event
                                    node attributes</link>.</td>
                            <td>Optional</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <section xml:id="Event_node_attributes">
                <title>Attribute values for event node</title>
                <para>The followign table lists the possible values for the <code>dataCenter</code>,
                        <code>environment</code>, and <code>region</code> attributes.</para>
                <para>
                    <table frame="border">
                        <caption>Attribute values</caption>
                        <col width="33%"/>
                        <col width="33%"/>
                        <col width="33%"/>
                        <thead>
                            <tr>
                                <th>dataCenter attribute</th>
                                <th>environment attribute</th>
                                <th>region attribute</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>GLOBAL</td>
                                <td>PROD</td>
                                <td>GLOBAL</td>
                            </tr>
                            <tr>
                                <td>DFW1</td>
                                <td>PREPROD</td>
                                <td>DFW</td>
                            </tr>
                            <tr>
                                <td>DFW2</td>
                                <td>STAGE</td>
                                <td>HKG</td>
                            </tr>
                            <tr>
                                <td>DFW3</td>
                                <td>QA</td>
                                <td>IAD</td>
                            </tr>
                            <tr>
                                <td>HKG1</td>
                                <td>UAT</td>
                                <td>LON</td>
                            </tr>
                            <tr>
                                <td>IAD1</td>
                                <td>LOCAL</td>
                                <td>ORD</td>
                            </tr>
                            <tr>
                                <td>IAD2</td>
                                <td/>
                                <td>SYD</td>
                            </tr>
                            <tr>
                                <td>IAD2</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>LON1</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>LOND3</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>ORD1</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>SYD3</td>
                                <td/>
                                <td/>
                            </tr>
                        </tbody>
                    </table>
                </para>
            </section>
            <section xml:id="Event_types">
                <title>Event types</title>
                <para>Cloud Feeds supports a set of different event types that are specified in the
                    Event node under the <code>type</code> attribute.</para>
                <para>Each event type has different conditions and requirements. </para>
                <para>The following table provides a list of the most important event types.</para>
                <para>
                    <table frame="border">
                        <caption>Event types</caption>
                        <col width="25%"/>
                        <col width="35%"/>
                        <col width="40%"/>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Requirements</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CREATE</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>DELETE</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>DOWN</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>EXTENDED</td>
                                <td/>
                                <td>If the event type attribute is equal to EXTENDED, the product
                                    attributes should contain an <code>eventType</code> attribute,
                                    which will contain the actual event type.</td>
                            </tr>
                            <tr>
                                <td>INFO</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>SUSPEND</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>UNSUSPEND</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>UP</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>UPDATE</td>
                                <td/>
                                <td/>
                            </tr>
                            <tr>
                                <td>USAGE</td>
                                <td>This is the default type value</td>
                                <td>see <link linkend="USAGE_event_type_requirements">Requirements
                                        for USAGE event type</link></td>
                            </tr>
                            <tr>
                                <td>USAGE_SNAPSHOT</td>
                                <td/>
                                <td>see <link linkend="USAGE_SNAPSHOT_event_type_requirements"
                                        >Requirements for USAGE_SNAPSHOT event type</link></td>
                            </tr>
                            <tr>
                                <td>USAGE_SUMMARY</td>
                                <td>This is automatically generated for any event of type USAGE and
                                    USAGE_SNAPSHOT</td>
                                <td>see <link linkend="USAGE_SUMMARY_event_type_requirements"
                                        >Requirements for USAGE_SUMMARY event type</link></td>
                            </tr>
                        </tbody>
                    </table>
                </para>
                <section xml:id="USAGE_event_type_requirements">
                    <title> Requirements for USAGE event type:</title>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>Must contain the <code>tenantId</code> attribute</para>
                            </listitem>
                            <listitem>
                                <para>Must have the <code>startTime</code> and <code>endTime</code>
                                    attributes defined</para>
                            </listitem>
                            <listitem>
                                <para>Can Not have a <code>severity</code> attribute defined</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="USAGE_SNAPSHOT_event_type_requirements">
                    <title> Requirements for USAGE SNAPSHOT event type:</title>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>Must contain the <code>tenantId</code> attribute</para>
                            </listitem>
                            <listitem>
                                <para>Must have the <code>eventTime</code> attribute defined</para>
                            </listitem>
                            <listitem>
                                <para>Can Not have a <code>severity</code> attribute defined</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
                <section xml:id="USAGE_SUMMARY_event_type_requirements">
                    <title> Requirements for USAGE SUMMARY event type:</title>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>Must contain the <code>tenantId</code> attribute</para>
                            </listitem>
                            <listitem>
                                <para>Can Not have a <code>severity</code> attribute defined</para>
                            </listitem>
                            <listitem>
                                <para>The product node requires a summary attribute set to
                                    true</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </section>
            </section>
        </section>
    </chapter>
    <chapter xml:id="Product_node">
        <title>Product node</title>
        <para>The product node is located inside of an event node. The product node is custom and
            differs for every product. The product node identifies the product to which the feed
            refers. It also provides product-specific information and details about the resources.
            Product nodes are defined by using a sample product schema. </para>
        <para>Following is an example of a product node:</para>
        <para>
            <programlisting>&lt;sample:product serviceCode="EmailAppsMSService"
          version="1"
           key="(domain=5002_domain_2.com)|(service=5002_domain_2.com)"
           productType="lync"
           operation="UPDATE"
           status="COMPLETED"
           request="HTTP GET"
           response="200">
     &lt;sample:dependent key="(domain=1002_domain_200.com)|(service=1002_domain_100.com)"/>
     &lt;sample:dependent key="(domain=2002_domain_200.com)|(service=2002_domain_200.com)"/>
 &lt;/sample:product></programlisting>
        </para>
        <section xml:id="sample_product_schema">
            <title>productSchema node</title>
            <para>The product schema is an xml configuration file that describes a product node. </para>
            <para>The following table lists the required attributes for the productSchema
                node:</para>
            <para>
                <table frame="border">
                    <caption>productSchema node</caption>
                    <col width="20%"/>
                    <col width="29%"/>
                    <col width="40%"/>
                    <col width="20%"/>
                    <thead>
                        <tr>
                            <th>Attribute</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Condition</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>version</code></td>
                            <td>xsd:string</td>
                            <td>Specifies the version of this particular product schema. Any sort of
                                version string is allowed. Each product schema must have a unique
                                version.</td>
                            <td>Required</td>
                        </tr>
                        <tr>
                            <td><code>type</code></td>
                            <td>usage:TypeList</td>
                            <td>Specifies the types of messages that are applicable to this schema,
                                for example "USAGE_SUMMARY." Default is USAGE.</td>
                            <td>Optional For more information, see <link linkend="Event_Types">Event
                                    Types</link>.</td>
                        </tr>
                        <tr>
                            <td><code>namespace</code></td>
                            <td>xsd:anyURI</td>
                            <td>Specifies the namespace for the schema. The namespace must be unique
                                for each product. The same namespace may be used between product
                                schema versions.
                                "http://docs.rackspace.com/event/emailapps_msservice"</td>
                            <td>Required</td>
                        </tr>
                        <tr>
                            <td><code>resourceTypes</code></td>
                            <td>schema:NameList</td>
                            <td>Contains a whitespace-separated list of resource types. A product
                                schema &lt;html:strong>must&lt;/html:strong> specify at least one
                                resource type if the groupByResource attribute is true.Specifies the
                                type of resource that is defined in the product schema, for example
                                "SITES_EMAIL".</td>
                            <td>Optional</td>
                        </tr>
                        <tr>
                            <td><code>serviceCode</code></td>
                            <td>xsd:Name</td>
                            <td>Specifies the name of the product or service. Should be a single
                                word, no white-spaces are allowed. Example names "nova", "MaaS",
                                etc. The name should uniquely identify the product or service. The
                                name is used to construct atom categories for events of this type.
                                For example: "EmailAppsMSService"</td>
                            <td>Required.  Each product schema must define a service code attribute
                                that uniquely identifies the product.</td>
                        </tr>
                        <tr>
                            <td><code>groupByResource</code></td>
                            <td>BOOLEAN</td>
                            <td>This attribute is required for all event types of type USAGE</td>
                            <td>If this attribute is set to true, the <code>resourceTypes</code>
                                attribute must be defined. This is required for event types of type
                                USAGE.</td>
                        </tr>
                        <tr>
                            <td><code>ranEnrichmentStrategy</code></td>
                            <td/>
                            <td>This attribute is required for all event types of type USAGE</td>
                            <td>This is required for event types of type USAGE.</td>
                        </tr>
                        <tr>
                            <td><code>aggregationPeriods</code></td>
                            <td/>
                            <td>This attribute is required for all event types of type USAGE</td>
                            <td>This is required for event types of type USAGE.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>When the product schema is run through the internal build process, a product XSD
                file is generated. The product schema consists of zero or more attributes and zero
                or more attribute groups, each of which can contain custom attributes.</para>
            <para>The following example shows a sample product schema with multiple attributes and
                an attribute group defined:</para>
            <programlisting language="xml" security="internal"><xi:include href="./samples/emailapps_msservice.xml" parse="text"/></programlisting>
            <section xml:id="Attribute_node">
                <title>Attribute node</title>
                <para>The attribute node declares an attribute for a product. Attributes are defined
                    in the product schema. The attribute node is a child of the product node.
                    Attribute groups can be repeated within a product schema.</para>
                <para>Attributes elements can consist of different data types, such as strings or
                    integeres. Attributes can vary but they usually contain the following
                    elements:</para>
                <para>
                    <table frame="border">
                        <caption>Common Attribute node elements</caption>
                        <col width="24%"/>
                        <col width="19%"/>
                        <col width="28%"/>
                        <col width="29%"/>
                        <thead>
                            <tr>
                                <th>Attribute</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Condition</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>name</code></td>
                                <td>STRING</td>
                                <td>Specifies the name of the attribute.  If the attribute has a
                                    default value, then the default value should be specified here.
                                    Note that only optional attributes can have default values.</td>
                                <td>Required</td>
                            </tr>
                            <tr>
                                <td><code>type</code></td>
                                <td>schema:TypeList</td>
                                <td>Specifies the types applicable to this attribute.</td>
                                <td>Required</td>
                            </tr>
                            <tr>
                                <td><code>minLength</code></td>
                                <td>xsd:integer</td>
                                <td>Specifies the minimum length of a string. It can be used only
                                    for string types. Default value, if not specified is 0..</td>
                                <td>This is for STRING types only. If this attribute is defined,
                                    maxLength is required as well. This attribute is optional.</td>
                            </tr>
                            <tr>
                                <td><code>maxLength</code></td>
                                <td>xsd:integer</td>
                                <td>Specifies the maximum length of a string. It can be used only
                                    for string types. </td>
                                <td>This is for STRING types only. This attribute is optional.</td>
                            </tr>
                            <tr>
                                <td><code>use</code></td>
                                <td>schema:Use</td>
                                <td>Specifies if the attribute optional, required, or synthesized.
                                    The use attribute is optional, if not specified the attribute
                                    will be labeled as optional.</td>
                                <td>Required</td>
                            </tr>
                            <tr>
                                <td><code>fixed</code></td>
                                <td>STRING</td>
                                <td>If the attribute always has a fixed value, the value should be
                                    specified here.</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>displayName</code></td>
                                <td>STRING</td>
                                <td>Specifies human readable name for the attribute that can be used
                                    for reports, invoices, etc. The display name does not have the
                                    same constraints as the name attribute..it can contain spaces.
                                    "displayName" is an optional attribute. If it is not specified
                                    the "name" attribute will be used in reports, invoices,
                                    etc.</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>allowedValues</code></td>
                                <td>schema:TokenList</td>
                                <td>Specifies an optional whitespace separated list of allowed
                                    values.</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>min</code></td>
                                <td>schema:MinMaxType</td>
                                <td>Specifies the minimum value allowed in the numeric type. The
                                    value is inclusive.</td>
                                <td>This is for numeric types only. Optional</td>
                            </tr>
                            <tr>
                                <td><code>max</code></td>
                                <td>schema:MinMaxType</td>
                                <td>Specifies thee minimum value allowed in the numeric type. The
                                    value is inclusive.</td>
                                <td>This is for numeric types only. Optional</td>
                            </tr>
                            <tr>
                                <td><code>default</code></td>
                                <td>STRING</td>
                                <td>If the attribute has a default value, then the default value is
                                    specified here. Note that only optional attributes can have
                                    default values.</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>searchable</code></td>
                                <td>BOOLEAN</td>
                                <td>If this attribute is set to true then there should be an index
                                    set so that you can search by this attribute. The default value
                                    is FALSE.</td>
                                <td>Optional. From a practical perspective this means that an atom
                                    hopper category will be set automatically with this attribute
                                    value.</td>
                            </tr>
                            <tr>
                                <td><code>private</code></td>
                                <td>BOOLEAN</td>
                                <td>If this attribute is set to true then the attribute value is not
                                    shown to the public. The default value is set to FALSE.</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>withEventType</code></td>
                                <td>usage:TypeList</td>
                                <td>This attribute is only valid with events of this type. This is a
                                    whitespace seperated list "USAGE CREATE DELETE". Currently
                                    extended event types are not supported. This attribute should
                                    reference a type from the 'types' attribute.</td>
                                <td>This attribute cannot have the value EXTENDED. This attribute is
                                    optional</td>
                            </tr>
                            <tr>
                                <td><code>withResource</code></td>
                                <td>schema:NameList</td>
                                <td>The attribute is only valid with events that reference this type
                                    of resource. This is a whitespace seperated list "WIDGET
                                    GADGET". The items on this list must be referenced in the
                                    resourceTypes attribute.</td>
                                <td>Optional</td>
                            </tr>
                        </tbody>
                    </table>
                </para>
            </section>
            <section xml:id="Attribute_group">
                <title>Attribute group<?sbr?></title>
                <para> A product schema can contain one or more attribute group. The attribute group
                    can consist of 50 attributes. </para>
                <para>The following table lists the attributes that can be set in an attribute
                    group:</para>
                <para>
                    <table frame="border">
                        <caption>Attribute Group</caption>
                        <col width="25%"/>
                        <col width="10%"/>
                        <col width="40%"/>
                        <col width="25%"/>
                        <thead>
                            <tr>
                                <th>Attribute</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Condition</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>description</code></td>
                                <td>string</td>
                                <td>Provides a description of the attribute group.</td>
                                <td/>
                            </tr>
                            <tr>
                                <td><code>name</code></td>
                                <td>xsd: Name</td>
                                <td>Specifies the name of the attribute group.</td>
                                <td>Required</td>
                            </tr>
                            <tr>
                                <td><code>minOccurs</code></td>
                                <td>schema:MinOccurs</td>
                                <td>Specifies the minimum occurrence of the attribute group.
                                    Defaults to "1"</td>
                                <td>Optional</td>
                            </tr>
                            <tr>
                                <td><code>maxOccurs</code></td>
                                <td>schema:MaxOccurs</td>
                                <td>Specifies the maximum occurrence of the attribute group.
                                    Defaults to "1".</td>
                                <td>Optional</td>
                            </tr>
                        </tbody>
                    </table>
                </para>
                <para>Following is an example of an attribute group for a product schema.</para>
                <para>
                    <programlisting>&lt;attributeGroup name="additionalPublicAddress" minOccurs="0" maxOccurs="unbounded">
    &lt;description>A list public addresses&lt;/description>
        &lt;attribute name="ip" type="string" use="required">
            The ip
        &lt;/attribute>
        &lt;attribute name="dns1" type="string" use="required">
            The dns1
        &lt;/attribute>
        &lt;attribute name="dns2" type="string" use="required">
            The dns1
        &lt;/attribute>
&lt;/attributeGroup></programlisting>
                </para>
            </section>
            <section xml:id="x_path_assertion">
                <title>XPathAssertion<?sbr?><?sbr?></title>
                <para>XPath assertions nodes allow you to add further checks to your event using
                    xPath assertions</para>
                <para>For more information about XPath, see <link
                        xlink:href="http://en.wikipedia.org/wiki/XPath"
                        >http://en.wikipedia.org/wiki/XPath</link>. </para>
                <para>An XPath test should evaluate to true() or false(). If false(), then the
                    content of the element is returned in an error message.</para>
                <para>The XPath context is the root product element by default. The context can be
                    changed to the root of the entry via the scope attribute. The prefix 'p' is
                    always  bound to the product schema. If the context is entry then the prefix
                    'atom' is bound to the atom namespace and 'event' is bound to the event
                    namespace. Finally, the prefix 'xs' is bound tho the XML Schema
                    namespace.</para>
                <para> Note that when the scope is product, you cannot use .. to access parent
                    elements -- use the entry scope instead.</para>
                <para/>
                <table>
                    <caption>Attribute Group</caption>
                    <col width="20%"/>
                    <col width="20%"/>
                    <col width="40%"/>
                    <col width="20%"/>
                    <thead>
                        <tr>
                            <th>Attribute</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Condition</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>scope</code></td>
                            <td>schema:XPathScope</td>
                            <td>Specifies the scope of an XPath assertion. The scope determines what
                                the context of the XPath assertion is. It can be either <emphasis
                                    role="italic">product</emphasis> or the <emphasis role="italic"
                                    >entry</emphasis>. The default value for this attribute is
                                product</td>
                            <td>
                                <para>When the scope is entry, the variables $entry, $event, and
                                    $product are defined, each pointing to the respective part of
                                    the message.</para>
                            </td>
                        </tr>
                        <tr>
                            <td><code>test</code></td>
                            <td>xsd:string</td>
                            <td>This attribute is required. Specifies the XPath test.</td>
                            <td>Required</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section xml:id="Versions">
                <title>Versions<?sbr?><?sbr?></title>
                <para>The event and product nodes are version-controlled. Cloud Feeds can support
                    events containing different definitions for the event and product nodes
                    simultaneously. This allows publishers to define a new event without breaking
                    older events that have not yet adopted the new definition. The event and product
                    versions are independent of each other.</para>
                <para>For example, if you specify &lt;event version="2"&gt; then Cloud Feeds will
                    apply different rules to startTime and endTime that if you specify &lt;event
                    version="1"&gt;. But you can use either version with any &lt;product
                    version="..."&gt;.</para>
            </section>
        </section>
        <section xml:id="Allowed_types">
            <title>Allowed Types</title>
            <para>The following table provides a list of allowed data types for product schema
                definitions:</para>
            <para>
                <table frame="border">
                    <caption>Allowed types</caption>
                    <col width="25%"/>
                    <col width="75%"/>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>string*</td>
                            <td>Specifies  any sequence of characters.</td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td>Specifies a valid name. That is a string that consist exclusively of
                                letters, digits, ideographs, and the underscore, hyphen, period, and
                                colon. Digits, the hyphen, and the period may not be used to start a
                                name, although they may be used inside the name.</td>
                        </tr>
                        <tr>
                            <td>string*</td>
                            <td>Specifies a list of strings.</td>
                        </tr>
                        <tr>
                            <td>Name*</td>
                            <td>Specifies a list of names.</td>
                        </tr>
                        <tr>
                            <td>integer</td>
                            <td>Specifies an integer value of arbitrary size.</td>
                        </tr>
                        <tr>
                            <td>long</td>
                            <td>Specifies a signed integer that can be represented by eight bytes.
                                The minimum value of a long is 9223372036854775807, the maximum
                                value is -9223372036854775808.</td>
                        </tr>
                        <tr>
                            <td>int</td>
                            <td>Specifies a signed integer that can be represented by four bytes.
                                The minimum value of an int is -2147483648, the maximum value is
                                2147483647.</td>
                        </tr>
                        <tr>
                            <td>short</td>
                            <td>Specifies a signed integer that can be represented by two bytes. The
                                minimum value of a short is -32768, the maximum value is 32767.</td>
                        </tr>
                        <tr>
                            <td>byte</td>
                            <td>Specifies a signed integer that can be represented by a single byte.
                                The minimum value of a byte is -128, the maximum value is 127.</td>
                        </tr>
                        <tr>
                            <td>unsignedLong</td>
                            <td>Specifies an unsigned integer that can be represented by eight
                                bytes. The minimum value of a unsignedLong is 0, the maximum value
                                is 18446744073709551615.</td>
                        </tr>
                        <tr>
                            <td>unsignedInt</td>
                            <td>Specifies an unsigned integer that can be represented by four bytes.
                                The minimum value of an unsignedInt is 0, the maximum value is
                                4294967295.</td>
                        </tr>
                        <tr>
                            <td>unsignedShort</td>
                            <td>Specifies an unsigned integer that can be represented by two bytes.
                                The minimum value of an unsignedShort is 0, the maximum value is
                                65535.</td>
                        </tr>
                        <tr>
                            <td>unsignedByte</td>
                            <td>Specifies an unsigned integer that can be represented by a single
                                byte. The minimum value of a byte is 0, the maximum value is
                                255.</td>
                        </tr>
                        <tr>
                            <td>double</td>
                            <td>Specifies a  A decimal value that can be represented by an eight
                                byte floating-point number in IEEE 754 format. Values such as INF
                                (infinity) and NaN (not a number) are allowed.</td>
                        </tr>
                        <tr>
                            <td>float</td>
                            <td>Specifies a decimal value that can be represented by a four byte
                                floating-point number in IEEE 754 format. Values such as INF
                                (infinity) and NaN (not a number) are allowed.</td>
                        </tr>
                        <tr>
                            <td>integer*</td>
                            <td>Specifies a whitespace separated list of integer values.</td>
                        </tr>
                        <tr>
                            <td>long*</td>
                            <td>Specifies a  whitespace separated list of long values.</td>
                        </tr>
                        <tr>
                            <td>int*</td>
                            <td>Specifies a whitespace separated list of int values.</td>
                        </tr>
                        <tr>
                            <td>short*</td>
                            <td>Specifies a whitespace separated list of short values.</td>
                        </tr>
                        <tr>
                            <td>byte*</td>
                            <td>Specifies a whitespace separated list of byte values.</td>
                        </tr>
                        <tr>
                            <td>unsignedLong*</td>
                            <td>Specifies a whitespace separated list of unsignedLong values.</td>
                        </tr>
                        <tr>
                            <td>unsignedInt*</td>
                            <td>Specifies whitespace separated list of unsignedInt values.</td>
                        </tr>
                        <tr>
                            <td>unsignedShort*</td>
                            <td>Specifies a whitespace separated list of unsignedShort values.</td>
                        </tr>
                        <tr>
                            <td>unsignedByte*</td>
                            <td>Specifies a whitespace separated list of unsignedByte values.</td>
                        </tr>
                        <tr>
                            <td>double*</td>
                            <td>Specifies a  whitespace separated list of double values.</td>
                        </tr>
                        <tr>
                            <td>float*</td>
                            <td>Specifies a whitespace separated list of float values.</td>
                        </tr>
                        <tr>
                            <td>boolean</td>
                            <td>Specifies a boolean value.</td>
                        </tr>
                        <tr>
                            <td>boolean*</td>
                            <td>Specifies a whitespace separated list of boolean values.</td>
                        </tr>
                        <tr>
                            <td>duration</td>
                            <td>The duration type represents a length of time such as 15 minutes; 2
                                hours; or 3 years, 7 months, 2 days, 8 hours, 32 minutes, and 12
                                seconds. It does not have a specific beginning or end, just a
                                length. Durations are represented using the ISO-8601 standard format
                                PnYnMnDTnHnMnS. nY gives the number of years, nM the number of
                                months, nD the number of days, nH the number of hours, nM the number
                                of minutes, and nS the number of seconds. The number of years,
                                months, days, hours, minutes, and seconds are all given as
                                nonnegative integers. The number of seconds is a decimal number with
                                as many places after the decimal point as necessary. For example, in
                                this format, 3 years, 7 months, 2 days, 8 hours, 32 minutes, and 12
                                seconds is written as P3Y7M2DT8H32M12S. Any values that are zero can
                                be omitted. Thus, a duration of 2 years and 2 minutes can be written
                                as P2YT2M. If there are no hours, minutes, or seconds, then the T is
                                omitted. Thus, a duration of two years is written as P2Y. A leading
                                minus sign before the P indicates a negative duration.</td>
                        </tr>
                        <tr>
                            <td>date</td>
                            <td>The date type represents a specific day in history such as September
                                26, 2005. Dates are written in the form CCYY-MM-DD. For example,
                                September 26, 2005 is written as 2005-09-26.</td>
                        </tr>
                        <tr>
                            <td>dateTime</td>
                            <td>The dateTime type represents a specific moment in history, such as
                                3:32 P.M., September 26, 2003. Date-times are written in the form
                                CCYY-MM-DDThh:mm:ss. An optional time zone indicator in the form
                                ±hh:mm may be suffixed to provide a time zone as an offset from
                                Coordinated Universal Time (Greenwich Mean Time, UTC). For example,
                                2003-09-26T15:32:00-05:00 is 3:32 P.M., September 26, 2003 in the
                                U.S. Eastern time zone. A Z can be used instead to indicate UTC:
                                1999-12-31T00:00:00Z.</td>
                        </tr>
                        <tr>
                            <td>utcDateTime</td>
                            <td>Specifies a dateTime constraint to be in the UTC timezone. That is
                                the timezone offset must be 0 OR the value must end with Z.</td>
                        </tr>
                        <tr>
                            <td>time</td>
                            <td>The time type represents a specific time of day on no particular
                                day, such as 3:32 P.M. Times are written in the form ±hh:mm:ss.xxx
                                using a 24-hour clock and as many fractions of a second as
                                necessary. An optional time zone indicator in the form ±hh:mm may be
                                suffixed to provide a time zone as an offset from Coordinated
                                Universal Time (Greenwich Mean Time, UTC). For example,
                                15:32:00-05:00 is 3:32 P.M., in the U.S. Eastern time zone. A Z can
                                be used instead to indicate UTC: 00:00:00Z.</td>
                        </tr>
                        <tr>
                            <td>utcTime</td>
                            <td>Specifies a  time constraint to be in the UTC timezone. That is the
                                timezone offset must be 0 OR the value must end with Z.</td>
                        </tr>
                        <tr>
                            <td>duration*</td>
                            <td>Specifies a whitespace separated list of duration values.</td>
                        </tr>
                        <tr>
                            <td>date*</td>
                            <td>Specifies a whitespace separated list of date values.</td>
                        </tr>
                        <tr>
                            <td>dateTime*</td>
                            <td>Specifies a whitespace separated list of dateTime values.</td>
                        </tr>
                        <tr>
                            <td>utcDateTime*</td>
                            <td>Specifies a whitespace separated list of utcDateTime values.</td>
                        </tr>
                        <tr>
                            <td>time*</td>
                            <td>Specifies a whitespace separated list of time values.</td>
                        </tr>
                        <tr>
                            <td>utcTime*</td>
                            <td>Specifies a whitespace separated list of utcTime values.</td>
                        </tr>
                        <tr>
                            <td>gDay*</td>
                            <td>Specifies a whitespace separated list of gDay values.</td>
                        </tr>
                        <tr>
                            <td>gMonth*</td>
                            <td>Specifies a whitespace separated list of gMonth values.</td>
                        </tr>
                        <tr>
                            <td>gYear*</td>
                            <td>Specifies a whitespace separated list of gYear values.</td>
                        </tr>
                        <tr>
                            <td>gMonthDay*</td>
                            <td>Specifies a whitespace separated list of gMonthDay values.</td>
                        </tr>
                        <tr>
                            <td>gMonthYear*</td>
                            <td>Specifies a  whitespace separated list of gMonthYear values.</td>
                        </tr>
                        <tr>
                            <td>base64Binary</td>
                            <td>Specifies an arbitrary sequence of bytes that has been encoded in
                                ASCII characters using the Base-64 algorithm defined in RFC 2045,
                                &lt;html:i>Multi-purpose Internet Mail Extensions (MIME) Part One:
                                Format of Internet Message Bodies&lt;/html:i>. The letters A–Z and
                                a–z, the digits 0–9, and the punctuation marks + and / are used to
                                encode data according to an algorithm that maps four of these
                                characters to three arbitrary bytes. The equals sign is used to pad
                                data at the end if necessary.</td>
                        </tr>
                        <tr>
                            <td>anyURI</td>
                            <td>The anyURI type indicates a Uniform Resource Identifier. This
                                includes not only Uniform Resource Locators (URLs), but also Uniform
                                Resource Names (URNs). Both relative and absolute URLs are
                                allowed.</td>
                        </tr>
                        <tr>
                            <td>UUID</td>
                            <td> A Universally unique identifier in its canonical form: 32
                                hexadecimal digits, displayed in five groups separated by hyphens,
                                in the form 8-4-4-4-12 for a total of 36 characters (32 digits and
                                four hyphens). For example:
                                7eadda6a-9f3e-11e1-9ef4-77b6922f8866.</td>
                        </tr>
                        <tr>
                            <td>anyURI*</td>
                            <td>Specifies a whitespace separated list of anyURI values.</td>
                        </tr>
                        <tr>
                            <td>UUID*</td>
                            <td>Specifies a whitespace separated list of UUIDs values.</td>
                        </tr>
                    </tbody>
                </table>
            </para>
        </section>
    </chapter>
    <chapter xml:id="Using_Cloud_Feeds">
        <title>Defining an event</title>
        <section xml:id="Get_Atom_Entry">
            <title>Defining the product node fields</title>
            <para>When you define the fields that you want to go into a product node, you need to go
                through the following decision-making steps:</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>Define the event type (USAGE, USAGE_SNAPSHOT, USAGE_SUMMARY)</para>
                    </listitem>
                    <listitem>
                        <para>Determine the type of the data that needs to go into the product
                            node.</para>
                    </listitem>
                    <listitem>
                        <para>Determine the type of attributes you want in your feed.</para>
                    </listitem>
                    <listitem>
                        <para>Define the attribute groups</para>
                    </listitem>
                    <listitem>
                        <para>Create a sample product schema</para>
                    </listitem>
                    <listitem>
                        <para>Create a sample message</para>
                    </listitem>
                </itemizedlist>
            </para>
            <note>
                <para>The product node can be versioned.</para>
            </note>
        </section>
        <section xml:id="Creating_message_samples">
            <title>Creating message samples</title>
            <para>You can create samples of atom entries that can be used in Cloud Feeds API
                requests and responses.</para>
            <para>Following is an example of an Atom entry:</para>
            <programlisting language="xml" security="internal"><xi:include href="./samples/emailappsmsservice-emailapps_msservice-info-v1-entry.xml" parse="text"/></programlisting>
            <para>Following is an example of a response to a Cloud Feeds request to post an Atom
                entry.</para>
            <programlisting language="xml" security="internal"><xi:include href="./samples/emailappsmsservice-emailapps_msservice-info-v1-response.xml" parse="text"/></programlisting>
        </section>
    </chapter>
</book>
